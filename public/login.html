<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <title>用户登录 - 苏宁易购</title> 
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" /> 
  <!-- 页尾使用的css文件 --> 
  <link type="text/css" rel="stylesheet" href="css/login.css" /> 
  <script type="text/javascript" src="js/jquery-1.7.1.js"></script> 
  <script type="text/javascript" src="js/login.js"></script> 
  <script language="javascript">
//图片等静态资源路径路径
//pre:   https://preimgssl.suning.com
//sit:   https://sit1imgssl.suning.com
//prd:   https://imgssl.suning.com
//dev:   https://b2cdev.cnsuning.com/webapp/wcs/stores/ConsumerDirectStorefrontAssetStore/

// DEV; SIT; PRE; PRD
var envType = "PRD";
//服务器的前缀 
var server_prefix_url = "";
//ASC服务器地址 
var asc_prefix_domain = "";
//Passport服务器地址
var passport_domain = "";
//验证门店公司卡
var companycard_url = "";

//真正跳转的目标地址
var goUrl = "";

if(envType == "DEV"){
	server_prefix_url = "https://b2cdev.cnsuning.com/webapp/wcs/stores/servlet/";
	asc_prefix_domain = "https://aqsit.cnsuning.com/asc";
	srs_prefix_domain = "https://regsit.cnsuning.com/";
	passport_domain =   "https://passportdev.cnsuning.com";
	companycard_url =   "https://regsit.cnsuning.com/companycardshow.do";
	goUrl            =  "http://b2cdev.cnsuning.com/webapp/wcs/stores/servlet/tcd_10052_10051_9173_.html";
	sop_prefix_domain = "https://sopsslsit.cnsuning.com/";
}else if(envType == "SIT"){
	server_prefix_url = "https://sslsit.cnsuning.com/emall/";
	asc_prefix_domain = "https://aqsit.cnsuning.com/asc";
	srs_prefix_domain = "https://regsit.cnsuning.com/";
	passport_domain =   "https://passportsit.cnsuning.com";
	companycard_url =   "https://regsit.cnsuning.com/companycardshow.do";
	goUrl            =  "http://b2csit.cnsuning.com/";
	sop_prefix_domain = "https://sopsslsit.cnsuning.com/";
}else if(envType == "PRE"){
	server_prefix_url = "https://sslpre.cnsuning.com/emall/";
	asc_prefix_domain = "https://aqpre.cnsuning.com/asc";
	srs_prefix_domain = "https://regpre.cnsuning.com/";
	passport_domain =   "https://passportpre.cnsuning.com";
	companycard_url =   "https://regpre.cnsuning.com/companycardshow.do";	
	goUrl            =  "http://b2cpre.cnsuning.com/";
	sop_prefix_domain = "https://sopsslpre.cnsuning.com/";
}else if(envType == "PRD"){
	server_prefix_url = "https://ssl.suning.com/emall/";
	asc_prefix_domain = "https://aq.suning.com/asc";
	srs_prefix_domain = "https://reg.suning.com/";
	passport_domain   = "https://passport.suning.com";
	companycard_url   = "https://reg.suning.com/companycardshow.do";
	goUrl             = "http://www.suning.com/";	
	sop_prefix_domain = "https://sopssl.suning.com/";	
}else{
	server_prefix_url = "https://ssl.suning.com/emall/";
	asc_prefix_domain = "https://aq.suning.com/asc";
	passport_domain   = "https://passport.suning.com";
	companycard_url   = "https://reg.suning.com/companycardshow.do";	
	goUrl             = "http://www.suning.com/";
	sop_prefix_domain = "https://sopssl.suning.com/";	
}

function GetRequest() {   
   var url = location.search; //获取url中"?"符后的字串   
   var theRequest = new Object();   
   if (url.indexOf("?") != -1) {   
      var str = url.substr(1);   
      strs = str.split("&");   
      for(var i = 0; i < strs.length; i ++) {   
         theRequest[strs[i].split("=")[0]]=unescape(strs[i].split("=")[1]);   
      }   
   }   
   return theRequest;   
}   

var userTargetUrl = "?loginTheme=b2c&service=https%3A%2F%2Fssl.suning.com%2Fwebapp%2Fwcs%2Fstores%2Fauth%3FtargetUrl%3Dhttp%253A%252F%252Fwww.suning.com%252F".split("targetUrl%3D")[1];
//needVerifyCode:表示是否需要输入验证码
var needVerifyCodeVal=false;

var loginPBK="MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQComqoAyvbCqO1EGsADwfNTWFQIUbm8CLdeb9TgjGLcz95mAo204SqTYdSEUxFsOnPfROOTxhkhfjbRxBV4/xjS06Y+kkUdiMGFtABIxRQHQIh0LrVvEZQs4NrixxcPI+b1bpE0gO/GAFSNWm9ejhZGj7UnqiHphnSJAVQNz2lgowIDAQAB";

//页面图片地址:默认图片
var centerImage_SRC = window.location.protocol+"//imgssl.suning.com/images/loginWelcome.png";
//会员卡连接地址
var memberCard_URL  = srs_prefix_domain + "b2cMemberCard/offline/cardLogin.do";
//免费注册
var Request = new Object();
Request = GetRequest();
var custSource = Request['custSource'];
if(userTargetUrl){
	var regesit_URL  = "https://reg.suning.com/person.do?myTargetUrl="+decodeURIComponent(userTargetUrl);
	if(custSource){
		regesit_URL = regesit_URL + "&custSource=" + custSource;
	}
}else{
	var regesit_URL  = "https://reg.suning.com/person.do";
	if(custSource){
		regesit_URL = regesit_URL + "?custSource=" + custSource;
	}
}
//忘记密码
var getSecret_URL= asc_prefix_domain+"/forgetpsw.do";
//苏宁互联:该连接地址需要提交的时候确认
var surfuLink_URL= server_prefix_url+"SNInterconnectInputView?storeId=10052&catalogId=10051"; 

//页面图片的跳转地址
var logoImageTarget_URL= "http://sale.suning.com/images/advertise/008/rx418co/index.html";
//人工审核地址
var asc_selfService_url = asc_prefix_domain + "/selfService/show.do";
//是否中文验证码
var chineseValiCode = "false";

String.prototype.replaceAll  = function(s1,s2){  
	return this.replace(new RegExp(s1,"gm"),s2);
}
//获取到的目标地址  将请求路径中的&amp; 替换为 &
var service = "https://ssl.suning.com/webapp/wcs/stores/auth?targetUrl=http%3A%2F%2Fwww.suning.com%2F";
    service = service.replaceAll('&amp;','&');

//实时监听ID
var timeOutId = null;


//图片验证码输错三次才刷新
var gImgVerCdeErrorCount = 0;

//BTCMEMII-2121, 2014-08-07, YuHui, 不重复校验相同的图片验证码
//最近一次输入的图片验证码
var gLastImgValCode = "";

//检查是否是上次用Ajax校验过的图片验证码，如果是，返回true, 如果不是，则记录下来，返回false
function isLastImgValCode(code) {
	if (gLastImgValCode == code) {
		return true;
	} else {
		gLastImgValCode = code;
		return false;
	}
}

//初始化图片验证码动态校验状态
function initImgValCodeDynamicCheck() {
	gImgVerCdeErrorCount = 0;
	gLastImgValCode = "";
}

//END of BTCMEMII-2121

//生成登陆之后的调整路径
function getGoUrl(){
  if(service != "" && service.length != 0){
   var index = service.indexOf("targetUrl=");
   if(index < 0){
	   goUrl = service;
   }else{
	   goUrl = decodeURIComponent(service.substring(index+10));
   }
 }

}

//易付宝链接跳转
function eppLogin(){
	var epp ="https://paypassport.suning.com/ids/oauth20/authorize?client_id=suning_01&response_type=code&redirect_uri=https%3A%2F%2Fpassport.suning.com%2Fids%2Flogin%3Foauth_provider%3DEppProvider&state=https%3A%2F%2Fssl.suning.com%2Fwebapp%2Fwcs%2Fstores%2Fauth%3FtargetUrl%3Dhttp%253A%252F%252Fwww.suning.com%252F";
	if(service.length>0){
	    location.href=epp+"&state="+encodeURIComponent(service);
	}else{
	    location.href=epp;
	}
}

//logo跳转的路径
function logoClick(){
	location.href = logoImageTarget_URL;
}

//注册按钮点击
function regesitClick(){
	location.href = regesit_URL;
}

//天翼联合登陆链接跳转
function surfingLogin(){
	 var surfingUrl="https://oauth.api.189.cn/emp/oauth2/v2/authorize?app_id=347283450000030819&response_type=code&redirect_uri=https%3A%2F%2Fpassport.suning.com%2Fids%2Flogin%3Foauth_provider%3DSurfing189Provider&state=https%3A%2F%2Fssl.suning.com%2Fwebapp%2Fwcs%2Fstores%2Fauth%3FtargetUrl%3Dhttp%253A%252F%252Fwww.suning.com%252F";
	 if(service.length>0){
	    location.href=surfingUrl+"&state="+encodeURIComponent(service);
	 }else{
	    location.href=surfingUrl;
	 }
}
//PPTV联合登陆链接跳转
function pptvLogin(){
	var pptv="http://api.passport.pptv.com/authorize.do?client_id=CvoJlCdPF0CDq7NUel7HcOH98g/RE/Ml&client_secret=01&response_type=code&redirect_uri=https%3A%2F%2Fpassport.suning.com%2Fids%2Flogin%3Foauth_provider%3DPPTVProvider&state=https%3A%2F%2Fssl.suning.com%2Fwebapp%2Fwcs%2Fstores%2Fauth%3FtargetUrl%3Dhttp%253A%252F%252Fwww.suning.com%252F"
	if(service.length>0){
        location.href=pptv+"&state="+encodeURIComponent(service);
   }else{
       location.href=pptv;
   }
}
//满座联合登陆
function manzuoLogin(){
	var manzuo="http://www.manzuo.com/openPlatform/oauth20/authorize?client_id=suning&response_type=code&redirect_uri=https%3A%2F%2Fpassport.suning.com%2Fids%2Flogin%3Foauth_provider%3DManzuoProvider&state=https%3A%2F%2Fssl.suning.com%2Fwebapp%2Fwcs%2Fstores%2Fauth%3FtargetUrl%3Dhttp%253A%252F%252Fwww.suning.com%252F";
	if(service.length>0){
		location.href=manzuo+"&state="+encodeURIComponent(service);
	}else{
		location.href=manzuo;
	}
}

//QQ登陆
function qqLogin(){
	var qq="https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=101224012&redirect_uri=https%3A%2F%2Fpassport.suning.com%2Fids%2Flogin%3Foauth_provider%3DQQProvider&state=https%3A%2F%2Fssl.suning.com%2Fwebapp%2Fwcs%2Fstores%2Fauth%3FtargetUrl%3Dhttp%253A%252F%252Fwww.suning.com%252F";
	if(service.length>0){
		var b = qq.indexOf("&state=");
		location.href= qq.substring(0,b) +"&state="+encodeURIComponent(service);
	}else{
		location.href=qq;
	}
}

//微信登陆
function weixinLogin(){
	var weixin="https://open.weixin.qq.com/connect/qrconnect?appid=wx2c91fc0834ac221c&redirect_uri=https%3A%2F%2Fpassport.suning.com%2Fids%2Flogin%3Foauth_provider%3DWeixinProvider&response_type=code&scope=snsapi_login&state=https%3A%2F%2Fssl.suning.com%2Fwebapp%2Fwcs%2Fstores%2Fauth%3FtargetUrl%3Dhttp%253A%252F%252Fwww.suning.com%252F";
	if(service.length>0){
		var b = weixin.indexOf("&state=");
		location.href= weixin.substring(0,b) +"&state="+encodeURIComponent(service);
	}else{
		location.href=weixin;
	}
}



//红孩子首次登录的连接设置
function oAuthLogon(sourceURL) {
    document.getElementById('oAuthLogonForm').action = server_prefix_url + sourceURL;
	document.getElementById('oAuthLogonForm').submit();
}

//采用扫描登陆方式进行登录
function setLogonStylebyImage(){
   var isIE = !!window.ActiveXObject;  
   var isIE6 = isIE && !window.XMLHttpRequest;  
   //获取图像形式的图片
   if(isIE6){
	   setTimeout("setQRCodes();",50);
   }else{
	   setQRCodes();
   }
   
   //初始化显示二维码登陆形式
   showScanInit();
   //实时扫描
   timeOutId = setInterval(checkQRCodesValidate,2000);
}

//采用用户名密码方式登陆
function setLogonStylebyUserName(){
	clearInterval(timeOutId);
	//设置初始化焦点
	setInitLogonIdinfo();
}

//设置二维码信息
function setQRCodes(){
	var qrCodesURL = passport_domain+"/ids/qrLoginUuidGenerate.htm?image=true" + "&yys=" + new Date().getTime();
    //document.getElementById("qrCodesId").src = qrCodesURL;
	$("#qrCodesId").attr("src",qrCodesURL);
	return false;
}

//图片验证码
function fun_getVcode() {
	gImgVerCdeErrorCount = 0;
	//BTCMEMII-1918  登录图片验证码判断正确后加入ICON提示 
	showVerifyCodeNone();
	//重新加载图片验证码
	document.getElementById("vcodeimg1").src = 'https://vcs.suning.com/vcs/imageCode.htm?uuid='
			+ "30924af6-300e-4b12-a5b0-fa41d83115a5" + "&yys=" + new Date().getTime();
}

//实时的探测二维码信息  0：起始状态  1：已有手机扫描了二维码； 2：手机确认授权； 3：uuid不存在或过期；4：系统异常
function checkQRCodesValidate(){
	jQuery.ajax( {
		type : 'POST',
		url  : passport_domain+'/ids/qrLoginStateProbe',
		data : 'uuid='+ getCookie("ids_qr_uuid"),
		dataType : 'jsonp',
		success : function(data) {
			if(data&& data.state){
				if(data.state == 1){
					//进行成功的跳转
					showScanOK();
				}else if(data.state == 2){
					//手机确认授权
					clearInterval(timeOutId);
					window.location = goUrl;
				}else if(data.state == 3){
					//过期：切换登陆方式
					clearInterval(timeOutId);
					//login.changeLogin();
					$(".qrlogin-link").click();  
					//初始化焦点
					setInitLogonIdinfo();
				}else if(data.state == 4){
					//系统异常
					showScanError();
				}
			}else{
				//系统异常
				showScanError();
			}
		},
		error : function(data) {
			//系统异常
			showScanError();
		}
	});	
}

//设置掌上手机超链接
function downLoadPhonePK(){
	var planar_RUL = "http://sale.suning.com/syb/20120419xsjkhd/index.html";
	$("#linke_planar").attr("href",planar_RUL);
}

//登陆初始化默认
function showScanhide(){
	$("#codemsg-ok").hide();
	$("#codemsg-err").hide();
	$("#codemsg-def").hide();
	
}

//二维码登陆初始化默认显示  
function showScanInit(){
	$("#codemsg-ok").hide();
	$("#codemsg-err").hide();
	$("#codemsg-def").show();
	
}

//显示二维码扫描成功    
function showScanOK(){
	$("#codemsg-ok").show();
	$("#codemsg-err").hide();
	$("#codemsg-def").hide();
}

//显示二维码扫描失败  
function showScanError(){
	$("#codemsg-ok").hide();
	$("#codemsg-err").show();
	$("#codemsg-def").hide();
}

//显示图片验证码正确
function showVerifyCodeOK(){
	showVerifyCodeNone();
	$("#imageVerifytip").addClass("st-ico");
}


//显示图片验证码错误
function showVerifyCodeError(){
	showVerifyCodeNone();
	$("#code-txtboxId").addClass("login-txtbox-error");
	$("#imageVerifytip").addClass("st-ico");
}

//隐藏图片验证码错误/正确
function showVerifyCodeNone(){
	$("#code-txtboxId").removeClass("login-txtbox-error");
	$("#imageVerifytip").removeClass("st-ico");
	$("#imageVerifytip").removeClass("ico-err");
}

//初始化显示图片验证码是否显示
function initShowVerifyCode(){
	if(needVerifyCodeVal){
		$("#imageVerifyArea").show();
	}else{
		$("#imageVerifyArea").hide();
	}
}

//图片验证码长度大于4的时候进行图片验证码的校验
function checkImageValCode(){
	var imageValCode = $("#validate").val();
	var vcd = $.trim(imageValCode);
	if(vcd.length == 4){	
		// BTCMEMII-2038 注册登录时出现中文验证码问题(英文、汉字验证码全部改为4位)
		return ajaxCheckVerifyCodeOrSubmit(false);	
	}
}

//图片验证码的异步校验
//isSubmit：是否进行提交 true：表示验证成功之后进行提交操作 ； false：表示仅仅进行验证
function ajaxCheckVerifyCodeOrSubmit(isSubmit) {
	//用户输入的验证码code
	// BTCMEMII-2121
	var code = $("#validate").val();
	if (!isSubmit && isLastImgValCode(code)) {
		return;
	}
	//请求时所传参数
	//var param = "code=" + code + "&uuid=" + "30924af6-300e-4b12-a5b0-fa41d83115a5" + "&delFlag=0";
	var param = {
			code : code,
			uuid : "30924af6-300e-4b12-a5b0-fa41d83115a5",
			delFlag : 0
	};
	$.ajax({
		//请求类型
		type : 'POST',
		//发送验证请求的url
		url : "https://vcs.suning.com/vcs/validate_jsonp.htm",
		//请求时所传参数
		data : param,
		//返回数据类型
		dataType : 'jsonp',
		//回调函数方法名
		jsonp : 'callback',
		//请求成功后的回调函数
		success : function(data) {
			//显示验证结果
			if(data[0].result == 'true'){
				result = true;
				showVerifyCodeOK();
				hideErrorInfo();
				if(isSubmit){
					//进行提交操作
					logonSubmit();
				}
			}else{
				showVerifyCodeError();
				if(isSubmit){
					showErrorInfo('验证码不正确，请重新输入。');
				}
				// 2013/08/01 需求变更点：验证码图片换新的
				// 2013/09/06 需求变更点：当输入满4位时，鼠标未移出就开始校验图片验证码正确性。若连续输入错误3 次，系统自动刷新图片验证码。
				gImgVerCdeErrorCount++;
				if (gImgVerCdeErrorCount >= 3 || isSubmit) {
					fun_getVcode();
				}
			}
		}
	});
}

//显示服务器返回的错误信息
function showServerErrorMsg(data) {
	var errorCode= "";
	if(isNotEmpty(data) && isNotEmpty(data.errorCode)){
		errorCode = data.errorCode;
	}
	var errorMessage="" ;
	if(isNotEmpty(data) && isNotEmpty(data.errorMessage)){
		errorMessage = data.errorMessage;
	}
	var remainTimes ="";
	if(isNotEmpty(data) && isNotEmpty(data.remainTimes)){
		remainTimes = data.remainTimes;
	}
	var snMemberErrorCode = "";
	if(isNotEmpty(data) && isNotEmpty(data.snMemberErrorCode)){
		snMemberErrorCode = data.snMemberErrorCode;
	}
	var logonId = "";
	if(isNotEmpty(data) && isNotEmpty(data.username)){
		logonId = data.username;
	}else{
		logonId = $('#userName').val();
		logonId = logonId.Trim();
	}
	
	var offlineMemberId = "";
	if(isNotEmpty(data) && isNotEmpty(data.offlineMemberId)){
		offlineMemberId = data.offlineMemberId;
	}

	//snMemberErrorCode中的错误提示信息
	if(snMemberErrorCode=="E4700A40"|| errorCode=="E4700A40"){
		errorMessage = "该账号密码存在安全风险，请立即<a name='Logon_index_denglu001' href='"+getSecret_URL+"' target='_blank' style='float:none'>重置密码</a>。";
		showErrorInfo(errorMessage);
		return;
	}else if(snMemberErrorCode=="E4700440" || errorCode=="E4700440" ||
			 snMemberErrorCode=="E4700456" || errorCode=="E4700456" ||
			 snMemberErrorCode=="E4700A37" || errorCode=="E4700A37" ){
		//E4700456 卡不存在  //E4700A37您输入的账号不存在，请重新输入！
		errorMessage='该账户名不存在，<a href="javascript:void(0);" name="Logon_index_denglu011" onclick="javascript:forgetLoginName();">忘记账户名</a>或';
		errorMessage= errorMessage+ '<a href="reg.html" name="Logon_index_denglu022">注册新账号</a>?';
		showErrorInfo(errorMessage);
		return;
	}else if(snMemberErrorCode=="E4700451" || errorCode=="E4700451"){
		//存在多个会员卡（重复卡）	会员卡异常，请至门店更换会员卡！
		errorMessage =  "会员卡异常，请至门店更换会员卡！";
		showErrorInfo(errorMessage);
		return;
	}else if(snMemberErrorCode=="E4700464" || errorCode=="E4700464"){
		//您的会员账号出现异常，请联系4008-365-365！
		errorMessage = "您的会员账号出现异常，请联系4008-365-365！";
		showErrorInfo(errorMessage);
		return;
	}else if(snMemberErrorCode=="E4700480" || errorCode=="E4700480"){
		//卡类型为非个人卡类型（公司卡）	非个人卡会员暂不提供线上验证功能！
		errorMessage = "非个人卡会员暂不提供线上验证功能！";
		showErrorInfo(errorMessage);
		return;
	}else if(snMemberErrorCode=="E4700000" || errorCode=="E4700000"){
		errorMessage = "不好意思，系统繁忙，请稍后再试！";
		showErrorInfo(errorMessage);
		return;
	}else if(snMemberErrorCode=="E4700013" || errorCode=="E4700013"){
		//数据库操作出错	不好意思，系统繁忙，请稍后再试！		
		errorMessage = "不好意思，系统繁忙，请稍后再试！";
		showErrorInfo(errorMessage);
		return;
	}else if(snMemberErrorCode=="E4700450" || errorCode=="E4700450"){
		errorMessage = "会员资料不完整您的会员卡资料不完整，为保证您的账户安全，请携带会员卡及有效证件到就近门店补全资料！";
		showErrorInfo(errorMessage);
		return;
	}else if(snMemberErrorCode=="E4700443" || errorCode=="E4700443"){
		errorMessage = "您的会员卡已被锁定，请联系4008-365-365进行解锁。";
		showErrorInfo(errorMessage);
		return;
	}else if(snMemberErrorCode=="E4700B03" || errorCode=="E4700B03"){
		//E4700B03 会员卡首次登陆
		var jumpUrl = memberCard_URL + "?cardInfo=" + logonId;
		window.location.href = jumpUrl;
		return;
	}else if(snMemberErrorCode=="E4700N07" || errorCode=="E4700N07"){
		//E4700N07手机号存在多个会员
		var jumpUrl = memberCard_URL + "?cardInfo=" + logonId;
		window.location.href = jumpUrl;
		return;
	}else if(snMemberErrorCode=="E4700N11" || errorCode=="E4700N11"){
		//E4700N11 手机为团体会员的联系人手机，不能登录
		errorMessage='该账户名不存在，<a href="javascript:void(0);" name="Logon_index_denglu011" onclick="javascript:forgetLoginName();">忘记账户名</a>或';
		errorMessage= errorMessage+ '<a href="reg.html" name="Logon_index_denglu022">注册新账号</a>?';
		showErrorInfo(errorMessage);
		return;
	}else if(snMemberErrorCode=="E4700487" || errorCode=="E4700487"){
		//E4700487  非个人会员卡不能绑定易购
		errorMessage = "非个人会员卡暂不提供线上登录验证。";
		showErrorInfo(errorMessage);
		return;
	}else if(snMemberErrorCode=="E0000001" || errorCode=="E0000001"){
		errorMessage = "不好意思，系统繁忙，请稍后再试！";
		showErrorInfo(errorMessage);
	}

	//errorCode类型的错误提示信息
	if(errorCode=="badVerifyCode"){
		errorMessage = "验证码不正确，请重新输入。";
		showErrorInfo(errorMessage);
	}else if(errorCode=="needVerifyCode"){
		errorMessage = "请输入验证码！";
		showErrorInfo(errorMessage);
	}else if(errorCode=="badPassword.msg1"){
		errorMessage="您输入的账户名与密码不匹配，请重新输入！<a name='Logon_index_denglu008' href='"+getSecret_URL+"' target='_blank' style='float:none'>忘记密码</a>或<a href='#' onclick='javascript:forgetLoginName();'>账户名</a>？";
		showErrorInfo(errorMessage);
		$('#password').val('');
	}else if(errorCode=="badPassword.msg2"){
		errorMessage="密码错误，您还可以尝试"+remainTimes+"次，<a href='"+getSecret_URL+"' target='_blank' style='float:none'>点此找回密码</a>?";
		showErrorInfo(errorMessage);
		$('#password').val('');		
	}else if(errorCode=="unknownUsername"){
		errorMessage='该账户名不存在，<a href="javascript:void(0);" name="Logon_index_denglu011" onclick="javascript:forgetLoginName();">忘记账户名</a>或';
		errorMessage= errorMessage+ '<a href="reg.html" name="Logon_index_denglu022">注册新账号</a>?';
		showErrorInfo(errorMessage);
	}else if(errorCode=="lockedBySystem"){
		if(isDigit(logonId)&&(logonId.length==12)){
			errorMessage = "您的会员卡已被锁定，请联系4008-365-365进行解锁。";
		}else{
			errorMessage = "密码错误10次，您可以<a href='"+getSecret_URL+"' target='_blank' style='float:none'>找回密码</a>，或1小时后再试。";
		}
		showErrorInfo(errorMessage);
	}else if(errorCode=="lockedByManual"){
		errorMessage = "您的账号已经被锁定，请联系客服4008-365-365进行解锁。";
		showErrorInfo(errorMessage);
	}else if(errorCode=="notOnlineMember"){
		//会员卡未绑定
		var jumpUrl = memberCard_URL + "?cardInfo=" + logonId;
		window.location.href = jumpUrl;
		return;
	}else if(errorCode=="imperfectMemberCard"){
		errorMessage = "您的会员卡资料不完整，为保证您的账户安全，请携带会员卡及有效证件到就近门店补全资料！";
		showErrorInfo(errorMessage);
	}else if(errorCode == "CARD_PASSWORD_VERIFY_SUCCESS"){
		//账号通用逻辑：1.线下账号验证通过；2.线下账号校验不通过，非初始密码；3.线下账号，初始密码
		// 验证通过
		var jumpUrl = memberCard_URL + "?cardInfo=" + logonId;
		window.location.href = jumpUrl;
		return;
	}else if(errorCode == "CARD_PASSWORD_VERIFY_FAILED"){
		// 验证不通过
		var jumpUrl = memberCard_URL + "?cardInfo=" + logonId;
		window.location.href = jumpUrl;
		return;
	}else if(errorCode == "CARD_PASSWORD_INITIAL"){
		// 账号初始密码
		var jumpUrl = memberCard_URL + "?cardInfo=" + logonId;
		window.location.href = jumpUrl;
		return;
	}else if(errorCode == "serviceNotAvailable"){
		// 当前服务不可用,请稍后再试。
		errorMessage = "不好意思，系统繁忙，请稍后再试！";
		showErrorInfo(errorMessage);
	}else if(errorCode == "ECARD_UNBIND"){
		// 团体卡未绑定
		errorMessage = "非个人会员卡暂不支持登录验证，您可以进行<a href='" + companycard_url + "'>验证注册</a>或更换其他账号登录。";
		showErrorInfo(errorMessage);
	}else if(errorCode == "highRiskAccount"){
		// 高危用户
		var jumpUrl = asc_prefix_domain + "/highrisk/getinfo.do?ticket=" + data.snapshotId;
		window.location.href = jumpUrl;
	}else if(errorCode == "suspectedHighRiskAccount"){
		// 疑似高危用户
        var jumpUrl = asc_prefix_domain  + "/highrisk/getinfo.do?ticket=" + data.snapshotId;
		window.location.href = jumpUrl;
	}else if(errorCode == "sopSuspectedHighRiskAccount"){
		// SOP疑似高危用户
        var jumpUrl = sop_prefix_domain  + "sel/member/toForward.htm?ticket=" + data.snapshotId;
		window.location.href = jumpUrl;
	}else if(errorCode == "maliciousRegister"){
		// 恶意注册用户
		var jumpUrl = asc_prefix_domain + "/maliciousreg/getinfo.do?ticket=" + data.snapshotId;
		window.location.href = jumpUrl;
	}else if(errorCode == "suspiciousLogin"){
        //异地登陆用户
        $("#password").blur();
        getGoUrl();
        var parentUrl = window.location.href;
        var targetUrl =  goUrl; 
	    aqSuning.showMobilePopType(false,data.snapshotId,encodeURIComponent(targetUrl),encodeURIComponent(parentUrl));
    }else if(errorCode == "sopSuspiciousLogin"){
        //sop异地登陆用户
		errorMessage = "尊敬的商家，请至<a target='blank' href='" + sop_prefix_domain + "'>苏宁云台</a>进行登录";
		showErrorInfo(errorMessage);
   	}else if(errorCode == "noAliasName"){
   		//无别名
		errorMessage = "您的资料完善度较低，账号存在安全风险。请立即<a target='blank' href='" + asc_selfService_url + "'>人工审核</a>";
		showErrorInfo(errorMessage);
   	}else if(errorCode == "lockedBySelf"){
   		//自助锁定
   		var unlockUrl = asc_prefix_domain + "/unlockacct/checklist.do?ticket="+data.snapshotId;
		errorMessage = "您的账号已申请锁定，暂时无法登录，您可以：<a target='_blank' href='" + unlockUrl + "'>解锁账号</a>";
		showErrorInfo(errorMessage);
   	}else if(errorCode!=""){
   		errorMessage = errorMessage!="" ? errorMessage : "不好意思，系统繁忙，请稍后再试！";
		showErrorInfo(errorMessage);
	}
}

//登陆中
function showSubmitRunningButton(){
	$(".btn-login").find("a").removeClass("login-submit");
	$(".btn-login").find("a").addClass("login-loading");
	$(".btn-login").find("a").text("登录中...");
}

//登陆按钮
function showSubmitButton(){
	$(".btn-login").find("a").removeClass("login-loading");
	$(".btn-login").find("a").addClass("login-submit");
	$(".btn-login").find("a").text("登　录");
}





//采用ajax方式进行认证请求
function ajaxLogonSubmit(){
	var username = $('#userName').val();
	username = username.Trim();
	var pwd  = $('#password').val();
	pwd  = pwd.Trim();
	try {
		var encrypt = new JSEncrypt();
		encrypt.setPublicKey(loginPBK);
		var pwd2 = encrypt.encrypt(pwd);
		pwd = "";
    } catch (exception) {
        pwd2 = "";
    }
	var verifyCode = $("#validate").val();
	var rememberMeVal = document.getElementById("rememberMe").checked;
	var param = {
			jsonViewType:true,
			username : username,
			password : pwd,
			password2 : pwd2,
			loginTheme:"b2c",
			//highRiskRedirectFlag:true,
			//service:"https://ssl.suning.com/webapp/wcs/stores/auth?targetUrl=http%3A%2F%2Fwww.suning.com%2F",
			//oauth_redirect:"",
			//trust_redirect:"",
			loginChannel : $("#loginChannel").val(),
			rememberMe: rememberMeVal
	};
	if(needVerifyCodeVal){
		param.verifyCode = verifyCode;
		param.uuid = "30924af6-300e-4b12-a5b0-fa41d83115a5";
	}
	//登陆中
	showSubmitRunningButton();
	jQuery.ajax( {
		type : 'POST',
		url  : 'login',
		async: false,
		data : param,
		dataType : 'json',
		success : function(data) {
			if(isNotEmpty(data) && isNotEmpty(data.success)&&data.success){
				//进行成功的跳转
				window.location = goUrl;
			}else{
				//重新显示图片验证码
				fun_getVcode();
				//是否显示图片验证码
				checkShowImageCode();
				//设置焦点
				setInitLogonIdinfo();
				showServerErrorMsg(data);
				//注册按钮
				showSubmitButton();
			}
		},
		error : function(data) {
			var errorMessage = "不好意思，系统繁忙，请稍后再试！";
			showErrorInfo(errorMessage);
			//注册按钮
			showSubmitButton();
			//设置焦点
			setInitLogonIdinfo();
		}
	});
}


//异步是指动态验证码是否显示
function userNameBlur(o,v){
	if ($(o).val().Trim().length >0){
		var userNameVal=$(o).val();
		userNameVal = userNameVal.Trim();
		jQuery.ajax( {
			type : 'POST',
			url : 'needVerifyCode',
			data : 'username='+encodeURIComponent(userNameVal),
			dataType : 'json',
			success : function(data) {
				if(data&& data.needVerifyCode){
					if (!needVerifyCodeVal) {
						needVerifyCodeVal=true;
						$("#imageVerifyArea").show();
					}
				}else if(data&& !data.needVerifyCode){
					if (needVerifyCodeVal) {
						needVerifyCodeVal=false;
						$("#imageVerifyArea").hide();
					}
				}
			},
			error : function(data) {
			}
		});
	}
};

//判断是否是数字
function isDigit(object){
	var pattern = /^([0-9]+)$/;
	return pattern.test(object);
};


//初始的时候设置用户名的提示 ：是否显示用户名/邮箱/手机号
function setInitLogonIdinfo(){
	if( $("#userName").val().length == 0 ){
		$("#userName").focus();
	}else{
		$(".login-txtbox").find(".input-label").hide();
		$("#password").focus();
	}
}

function checkInputEvent(){
	$("#userName").blur(function(){
		//hideErrorInfo();
		checkShowImageCode();
		//setInitLogonIdinfo();
	});
	
	$("#userName").keypress(function(){
		//setInitLogonIdinfo();
		//$("#userName").parent("dd").addClass("hide-label").addClass("dd-focus");
		onNormalLogonKeyPress();
	});

	//$("#password").blur(checkNormalLogonPwdOnBlur);
	$("#password").keypress(onNormalLogonKeyPress);

	$("#password").keypress(checkCapsLock);

	$("#validate").focus(function(){
		//hideErrorInfo();
	});
	//提交事件
	//$("#validate").keypress(onNormalLogonKeyPress);
	//实时校验
	$("#validate").keyup(onKeyUpForValidate);

	$("#validate").blur(checkValidateCodeOnBlur);

	
}

//是否显示图片验证码
function checkShowImageCode(){
	var logonIdval = $('#userName').val().Trim();
	if(logonIdval.length > 0){
		userNameBlur("#userName",'');
	}
}

//图片验证码位置按键的弹起事件
function onKeyUpForValidate(evt){
	//兼容IE和Firefox获得keyBoardEvent对象
	evt = (evt) ? evt : ((window.event) ? window.event : "")
	//兼容IE和Firefox获得 keyBoardEvent对象的键值
	var keyCode = evt.keyCode?evt.keyCode:evt.which;
    
	if(keyCode==13) {
		prepareLogonSubmit();
	}else{
		checkNormalLogonValidateCodeOnBlur();
	}
}


//普通登录处理回车事件
function onNormalLogonKeyPress(evt) {
  	//兼容IE和Firefox获得keyBoardEvent对象
	evt = (evt) ? evt : ((window.event) ? window.event : "")
	//兼容IE和Firefox获得 keyBoardEvent对象的键值
	var keyCode = evt.keyCode?evt.keyCode:evt.which;
    
	if(keyCode==13) {
		prepareLogonSubmit();
	}
}


//带有snapshopid的提交
function submitSnaphotForm(){
	var username = $('#userName').val();
	username = username.Trim();
	var pwd  = $('#password').val();
	pwd      = pwd.Trim();
	var loginTheme =  "b2c";
	var highRiskRedirectFlag = true;
	var service        = "https://ssl.suning.com/webapp/wcs/stores/auth?targetUrl=http%3A%2F%2Fwww.suning.com%2F";
	var oauth_redirect = "";
	var trust_redirect = "";
	var loginChannel   =  $("#loginChannel").val();
	var rememberMeVal = document.getElementById("rememberMe").checked;
	
	$('#username1').val(username);
	$('#password1').val(pwd);
	$('#loginTheme1').val(loginTheme);
	$('#highRiskRedirectFlag1').val(highRiskRedirectFlag);
	$('#service1').val(service);
	$('#oauth_redirect1').val(oauth_redirect);
	$('#trust_redirect1').val(trust_redirect);
	$('#loginChannel1').val(loginChannel);
	$('#rememberMeVal').val(rememberMeVal);
	if(needVerifyCodeVal){
	  var uuid = "30924af6-300e-4b12-a5b0-fa41d83115a5";
	  var verifyCode = $("#validate").val();
		$('#uuid1').val(uuid);
		$('#validate1').val(verifyCode);
	}
	$('#snapshotForm').submit();
}





//提交登录
function prepareLogonSubmit(){
	//如果有图片验证，则需要先校验图片验证码，然后进行提交操作
	hideErrorInfo();
	if(needVerifyCodeVal){
		//如果出现图片验证码则在提交前应该对图片验证码进行校验
		if(checkValidateCodeOnSubmit()){
			ajaxCheckVerifyCodeOrSubmit(true);
		}
  	}else{
  		logonSubmit();
  	}
}

//提交登录
function logonSubmit(){
	hideErrorInfo();
	if(!checkNormalLogonIdOnSubmit() || !checkNormalLogonPwdOnSubmit()) {
	    return;
  	}else{
  	   //当含有snapshotId表示要进行主站的跳转登陆：跳转前要进行统一的编码
  	  	if(goUrl.indexOf("snapshotId")!=-1){
  	  	    submitSnaphotForm(); 
  	  	}else{
  	  	    ajaxLogonSubmit();
  	  	}
  	}
}

//普通登录：提交时检查账号
function checkNormalLogonIdOnSubmit() {
	// 清掉服务器错误消息
	hideErrorInfo();
	var eml = $('#userName').val();
	if (eml == null || eml == "") {
		showErrorInfo('请输入用户名/邮箱/手机号！');
		return false;
	}
	if (eml.length != 0 && eml.length < 50
			&& eml.match( /^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/ )){
		$('#userName').val(eml.toLowerCase());
	} else {
		$('#userName').val(eml);
	}
	hideErrorInfo();
	return true;
}

//普通登录：提交时检查密码
function checkNormalLogonPwdOnSubmit() {
	// 清掉服务器错误消息
	hideErrorInfo();
	var pwd = $('#password').val();
	pwd = pwd.Trim();
	if (pwd.length<6 || pwd.length>20) {
		showErrorInfo('请输入6-20位密码！');
		return false;
	} else {
		hideErrorInfo();
		return true;
	}	
}


//图片验证码框中焦点移除的时候，进行提示
function checkValidateCodeOnBlur(){
	var vcd = $('#validate').val();
	if (vcd == null || vcd == "") {
		//hideErrorInfo();
		return false;
	}else if(vcd.length == 4){
		//没有在提交中的时候进行提交操作  4个长度的时候需要是字符数字， 3个长度的时候需要是汉字
		return true;
	}else{
		showVerifyCodeError();
		//showErrorInfo("验证码格式不正确，请重新输入");
		return false;
	}
}

//图片验证码框中焦点移除的时候，进行提示
function checkValidateCodeOnSubmit(){
	var vcd = $('#validate').val();
	if (vcd == null || vcd == "") {
		showErrorInfo("请输入验证码");
		showVerifyCodeError();
		return false;
	}else if(vcd.length == 4){
		//没有在提交中的时候进行提交操作  4个长度的时候需要是字符数字， 3个长度的时候需要是汉字
		return true;
	}else{
		showErrorInfo("验证码不正确，请重新输入。");
		showVerifyCodeError();
		return false;
	}
}

// 普通登录：失去焦点时检查图片验证码
function checkNormalLogonValidateCodeOnBlur() {
	// 清掉服务器错误消息
	var vcd = $('#validate').val();
	if (vcd == null || vcd == "") {
		//hideErrorInfo();
		return false;
	} else if(vcd.length == 4){
		//没有在提交中的时候进行提交操作    4个长度的时候需要是字符数字， 3个长度的时候需要是汉字
		if(chineseValiCode == "true"){
			if(isChineseStr(vcd)){
				checkImageValCode();
			}
		}else{
			checkImageValCode();
		}
		return true;
	}
}

//是否全是中文
function isChineseStr(str){
  	var reg = /^[\u4e00-\u9fa5]+$/i;
  	if(reg.test(str)){
   		return true;
  	}else{
   		return false;
  	}
}

String.prototype.Trim = function(){
	return this.replace(/(^\s*)|(\s*$)/g, "");
}




//是否全是字母或者数字
function isAllLetterOrNum(str) {
	var patIsAllLetter = /^[0-9a-zA-Z]+$/;
	return patIsAllLetter.test(str);
}

//全部为汉字
function isChn(str){ 
	var reg = /^[\u4E00-\u9FA5]+$/; 
	if(!reg.test(str)){ 
		//alert("不是中文"); 
	    return false; 
	}else{
		//alert("中文"); 
		return true; 
	}
} 

//从浏览器获取cookies add by 12072549
function getCookie(cookieName){   
	var arrStr = document.cookie.split("; ");
	for(var i = 0;i < arrStr.length;i ++){
		var temp = arrStr[i].split("=");
		if(temp[0] == cookieName){
			return unescape(decodeURI(temp[1]));
		}
	}
	return "";
}

function isNotEmpty(objVal){
	if(objVal==null || objVal == undefined || objVal=="" || objVal.length==0){
		return false;
	}else{
		return true;
	}
}

function showErrorInfo(msg){
	$(".err-msg").find("i").removeClass("ico-info-16").addClass("ico-err-16");
	$(".err-msg").show().find("span").html(msg);
	$(".err-msg").find("a").addClass("cr-bluelink");	
}
function hideErrorInfo(){
	$(".err-msg").hide().find("span").html('');
	$(".err-msg").find("i").removeClass("ico-info-16");
	$(".err-msg").find("i").removeClass("ico-err-16");
}

function forgetLoginName(){
	var msg = "您可以使用用户名/邮箱/手机号进行登录。";
	$(".err-msg").find("i").removeClass("ico-err-16").addClass("ico-info-16");
	$(".err-msg").show().find("span").html(msg);
}

//判断大小写锁定 
function  checkCapsLock(evt){
	//兼容IE和Firefox获得keyBoardEvent对象
	evt = (evt) ? evt : ((window.event) ? window.event : "")
	  //兼容IE和Firefox获得 keyBoardEvent对象的键值
	var keyCode = evt.keyCode?evt.keyCode:evt.which;
    var isShift  =  evt.shiftKey ||(keyCode  ==   16 ) || false ; 
    
     if (((keyCode >=   65   &&  keyCode  <=   90 )  &&   !isShift) 
     || ((keyCode >=   97   &&  keyCode  <=   122 )  &&  isShift) 
	 ){
    	$(".err-msg").find("i").removeClass("ico-err-16").addClass("ico-info-16");
    	$(".err-msg").show().find("span").html('键盘大写锁定已打开，请注意大小写 ');
	 }else{
		 var msg = $(".err-msg").html();
		 //当在密码输入框中输入正常的时候，错误提示的内容是"键盘大写",的时候，错误提示消失
		 if(msg.indexOf("键盘大写")!=-1){
			 $(".err-msg").find("i").removeClass("ico-info-16");
			 $(".err-msg").hide().find("span").html('');
		 }
	 }
}

//检测信任登录的cookies信息，做信任跳转
var checkTrustCookie = function() {
	//信任登录未绑定的标记
	var trustbinding = getCookie('trust_user_not_binding');
	if ( trustbinding!=null && trustbinding!=""){
		//保存是从哪里请求的路径  将请求路径中的&amp; 替换为 &
		var serviceStr=decodeURIComponent("https://ssl.suning.com/webapp/wcs/stores/auth?targetUrl=http%3A%2F%2Fwww.suning.com%2F");
		//已解码
		var targetUrl = serviceStr.substring(serviceStr.indexOf("targetUrl") + 10);
	    //跳转
		window.location.href = "https://reg.suning.com/commThirdPartyLogOrReg.do?trustType=normal&bindingTicket="+trustbinding+"&targetUrl="+targetUrl;
	}
}
var postData = {};
postData.errorCode = '';
postData.snapshotId = '';
//页面初始化函数
$(document).ready(function(){
	//初始化默认隐藏所有的提示
	showScanhide();
	//检测华夏基金等信任登录的cookies信息
	checkTrustCookie();
	//获取成功之后的跳转路径
	getGoUrl();
	//是否显示图片验证码
	checkShowImageCode();
	//初始化图片验证码
	fun_getVcode();
	//绑定各种输入框的函数
	checkInputEvent();
	//显示服务端错误信息
	showServerErrorMsg(postData);
	//设置是否显示图片验证码
	initShowVerifyCode();
	//初始化用户名的提示
	setInitLogonIdinfo();

	//通过请求获取用户渠道
	getUserChannel("loginChannel");
	
	$("#Logon_index_denglu010").attr("href",memberCard_URL);
	$("#Logon_index_denglu001").attr("href",getSecret_URL);
	//设置苏宁互联
	$("#Logon_index_surfuLink008").attr("href",surfuLink_URL);
	//设置掌上手机超链接
	downLoadPhonePK();
	
	//底部图片懒加载
	$("img[src2]").Jlazyload({type: "image"});
});

</script> 
 </head> 
 <!--/************************************************************
 *																*
 * 						      代码库							*
 *                        www.dmaku.com							*
 *       		  努力创建完善、持续更新插件以及模板			*
 * 																*
**************************************************************-->
 <body>
  <div class="login-main"> 
   <!--顶部logo区域 [[--> 
   <div class="login-logo"> 
    <a href="index.html" target="_blank" name="Logon_index_denglu009" id="Logon_index_denglu009"> <img src="https://imgssl.suning.com/uimg/passport/ad/145256002565488554.gif?v=20160311" /> </a> 
   </div> 
   <!--顶部logo区域 ]]--> 
   <!--登录区域 表单 [[--> 
   <div class="login-form"> 
    <input type="hidden" id="loginChannel" name="loginChannel" value="208000000000" /> 
    <div class="login-other"> 
     <a class="qrlogin-link" href="javascript:void(0);"><span>二维码安全登录</span><i></i></a> 
    </div> 
    <!--报错位 [[--> 
    <div class="err-msg hide" id="_err-msg"> 
     <p> <i class="ico-err ico-err-16"></i> <span>账户名或密码输入错误，您还有N次输入机会，机会用完后，您的账号将会被锁定，您可以<a href="javascript:void(0);">点此找回密码</a></span> </p> 
    </div> 
    <!--报错位 ]]--> 
    <div class="login-txtbox"> 
     <label class="input-label">用户名/邮箱/手机号</label> 
     <i class="ico-usename"></i> 
     <input class="txt-input text-email" type="text" id="userName" value="" autocomplete="off" tabindex="1" /> 
    </div> 
    <div class="login-txtbox"> 
     <i class="ico-pwd"></i> 
     <input class="txt-input" type="password" id="password" name="password" maxlength="20" autocomplete="off" tabindex="2" /> 
     <label class="input-label">密码</label> 
    </div> 
    <!--验证码 [[--> 
    <!--验证码错误添加 login-txtbox-error--> 
    <div class="login-code" id="imageVerifyArea" style="display:none;"> 
     <div id="code-txtboxId" class="code-txtbox"> 
      <i class="ico-code"></i> 
      <input class="txt-input" type="text" id="validate" autocomplete="off" maxlength="4" name="validate" tabindex="3" /> 
      <em id="imageVerifytip" class="st-ico"></em> 
      <label class="input-label">验证码</label> 
     </div> 
     <div class="code-num"> 
      <img id="vcodeimg1" name="vcodeimg1" onclick="fun_getVcode()" /> 
     </div> 
     <div class="code-link">
       看不清 
      <a href="javascript:void(0);" onclick="fun_getVcode()" name="Logon_index_denglu004">换一张</a> 
     </div> 
    </div> 
    <!--验证码 ]]--> 
    <!-- 自动登录 [[ --> 
    <div class="auto-login"> 
     <label class="auto-label"><input type="checkbox" id="rememberMe" /><span>自动登录</span></label> 
    </div> 
    <!-- 自动登录 ]] --> 
    <div class="btn-login"> 
     <a href="javascript:prepareLogonSubmit();" id="submit" name="Logon_index_denglu002" class="login-submit">登　录</a> 
    </div> 
    <div class="links-text"> 
     <div class="u-fst-login"> 
      <b class="b1">◆</b> 
      <b class="b2">◆</b>持有苏宁电器/乐购仕会员卡登录，线上线下云钻共享来购物！ 
     </div> 
     <a href="javascript:void(0);" class="link-left" id="Logon_index_denglu001" name="Logon_index_denglu001">忘记密码</a> 
     <span class="link-left mid-line"></span> 
     <a href="reg.html" class="link-left" name="Logon_index_denglu003" id="Logon_index_denglu003">免费注册</a> 
     <a href="javascript:void(0);" class="link-right" name="Logon_index_denglu012" id="Logon_index_denglu010"><i></i>会员卡融合</a> 
    </div> 
    <form method="post" name="oAuthLogonForm" action="" id="oAuthLogonForm"> 
     <input type="hidden" name="URL" value="https://ssl.suning.com/webapp/wcs/stores/auth?targetUrl=http%3A%2F%2Fwww.suning.com%2F" /> 
    </form> 
    <form method="post" name="snapshotForm" action="login" id="snapshotForm"> 
     <input type="hidden" id="username1" name="username" value="" /> 
     <input type="hidden" id="password1" name="password" value="" /> 
     <input type="hidden" id="loginTheme1" name="loginTheme" value="" /> 
     <input type="hidden" id="highRiskRedirectFlag1" name="highRiskRedirectFlag" value="" /> 
     <input type="hidden" id="service1" name="service" value="" /> 
     <input type="hidden" id="oauth_redirect1" name="oauth_redirect" value="" /> 
     <input type="hidden" id="trust_redirect1" name="trust_redirect" value="" /> 
     <input type="hidden" id="loginChannel1" name="loginChannel" value="" /> 
     <input type="hidden" id="uuid1" name="uuid" value="" /> 
     <input type="hidden" id="validate1" name="verifyCode" value="" /> 
     <input type="hidden" id="rememberMeVal" name="rememberMe" value="" /> 
    </form> 
    <div class="user-frd net-cooperation"> 
     <p class="show-text"><span>用合作网站账号登录</span></p> 
     <p class="account-list clearfix"> <a href="javascript:void(0);" name="Logon_index_denglu026" class="weixin" onclick="weixinLogin();return false;"><i></i><b>微信</b></a> <a href="javascript:void(0);" name="Logon_index_denglu027" class="qq" onclick="qqLogin();return false;"><i></i><b>QQ</b></a> <a href="javascript:void(0);" name="Logon_index_denglu017" class="yifubao" onclick="eppLogin();return false;"><i></i><b>易付宝</b></a> <a href="javascript:void(0);" name="Logon_index_denglu013" class="hulian" id="Logon_index_surfuLink008"><i></i><b>苏宁互联</b></a> <a href="javascript:void(0);" name="Logon_index_denglu015" class="pptv" onclick="pptvLogin();return false;"><i></i><b>PPTV</b></a> 
      <!-- <a href="javascript:void(0);" name="Logon_index_denglu016" class="manzuo"  onclick="manzuoLogin();return false;"><i></i><b>满座</b></a> --> 
      <!-- <a href="javascript:void(0);" name="Logon_index_denglu007" class="tianyi"  onclick="surfingLogin();return false;"><i></i><b>天翼</b></a> --> </p> 
    </div> 
    <div class="email-list hide"></div> 
   </div> 
   <!--登录区域 表单 ]]--> 
   <!--登录区域 扫码登录 [[--> 
   <div class="login-photocode"> 
    <div class="login-other"> 
     <a class="qrlogin-link" href="javascript:void(0);" name="Logon_index_denglu018" id="Logon_index_denglu018"><span>普通登录</span><i class="def-login"></i></a> 
    </div> 
    <div class="code-art"> 
     <img id="qrCodesId" src="" /> 
    </div> 
    <!--默认下载客户端提示框 [[--> 
    <div id="codemsg-def" class="code-msg codemsg-def" style="display:none;"> 
     <b class="b1">◆</b> 
     <b class="b2">◆</b> 
     <p>请使用易购客户端扫描二维码登录</p> 
     <a href="javascript:void(0);" id="linke_planar" name="Logon_index_denglu019" target="_blank">下载易购客户端</a> 
    </div> 
    <!--默认下载客户端提示框 ]]--> 
    <!--报错提示框 [[--> 
    <div id="codemsg-err" class="code-msg codemsg-err" style="display:none;"> 
     <b class="b1">◆</b> 
     <b class="b2">◆</b> 
     <div class="text-codemsg"> 
      <i class="ibig-err"></i> 
      <p>登录失败</p> 
      <span>请重新扫描上方二维码，进行登录</span> 
     </div> 
    </div> 
    <!--报错提示框 ]]--> 
    <!--扫描成功提示框 [[--> 
    <div id="codemsg-ok" class="code-msg codemsg-ok" style="display:none;"> 
     <b class="b1">◆</b> 
     <b class="b2">◆</b> 
     <div class="text-codemsg"> 
      <i class="ibig-ok"></i> 
      <p>扫描成功</p> 
      <span>请按手机的提示操作，请勿刷新</span> 
     </div> 
    </div> 
    <!--扫描成功提示框 ]]--> 
    <div class="ico-codephoto"></div> 
   </div> 
   <!--登录区域 扫码登录 ]]--> 
  </div> 
  <!-- 此处引入公用尾部 --> 
  <!--#include virtual="/include/footer-simple.shtml"--> 
  <script type="text/javascript">
		var sn=sn||{
			"context":'/emall',
			"domain":'www.suning.com',
			"storeId":'10052',
			"catalogId":'10051',
			"memberDomain":'member.suning.com',
			"online":'online.suning.com',
			"cookieDomain":'.suning.com',
			"searchDomain" : 'http://search.suning.com/emall/',
			"categoryId":"10051",
			"sslDomain":'ssl.suning.com'
		};
</script> 
  <div class="clear"></div> 
  <!-- 公用尾部 [[ --> 
  <div class="ng-footer"> 
   <div class="ng-s-footer"> 
    <div class="ng-s-f-con"> 
     <p class="ng-url-list"> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0101">苏宁云商</a><span>|</span> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0102" rel="nofollow">苏宁互联</a><span>|</span> <a href="mall.html" target="_blank" name="public0_none_wb_yqlj0111" rel="nofollow">苏宁金融</a><span>|</span> <a href="javascript:;" rel="nofollow" target="_blank" name="public0_none_wb_yqlj0103">易付宝</a><span>|</span> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0104" rel="nofollow">满座网</a><span>|</span> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0105" rel="nofollow">PPTV</a><span>|</span> <a href="child.html?/" target="_blank" name="public0_none_wb_yqlj0106" rel="nofollow">红孩子</a><span>|</span> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0107" rel="nofollow">缤购</a><span>|</span> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0108" rel="nofollow">乐购仕</a><span>|</span> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0111" rel="nofollow">苏宁物流</a><span>|</span> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0109" rel="nofollow">苏宁美国</a><span>|</span> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0110" rel="nofollow">苏宁香港</a> </p> 
     <p class="ng-url-list"> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0201" rel="nofollow">关于苏宁易购</a><span>|</span> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0202" rel="nofollow">联系我们</a><span>|</span> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0203" rel="nofollow">诚聘英才</a><span>|</span> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0204" rel="nofollow">供应商入驻</a><span>|</span> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0205" rel="nofollow">苏宁联盟</a><span>|</span> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0206" rel="nofollow">苏宁招标</a><span>|</span> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0207">友情链接</a><span>|</span> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0208" rel="nofollow">法律申明</a><span>|</span> <a href="javascript:;" target="_blank" name="public0_none_wb_yqlj0209" rel="nofollow">用户体验提升计划</a> </p> 
     <p class="ng-copyright">Copyright&copy; 2002-2015 ，苏宁版权所有 苏ICP备10207551号 苏B1-20130131 苏B2-20130376 出版物经营许可证新出发苏批字第A-243号</p> 
     <div class="ng-authentication"> 
      <a href="javascript:;" target="_blank" name="public0_none_wb_zs0301" rel="nofollow"> <img src2="https://sslres.suning.com/public/v3/images/kexin.png" alt="可信网站" /> </a> 
      <a href="javascript:;" target="_blank" name="public0_none_wb_zs0302" rel="nofollow"> <img src2="https://sslres.suning.com/public/v3/images/chengxin.png" alt="诚信网站" /> </a> 
      <a href="javascript:;" target="_blank" name="public0_none_wb_zs0303" rel="nofollow"> <img src2="https://sslres.suning.com/public/v3/images/unicom.png" alt="中国联通授权网络经营代理商" /> </a> 
      <a href="javascript:;" target="_blank" name="public0_none_wb_zs0304" rel="nofollow"> <img src2="https://sslres.suning.com/public/v3/images/dianxin.jpg" alt="中国电信授权网络经营代理商" /> </a> 
      <a href="javascript:;" target="_blank" rel="nofollow" name="public0_none_wb_zs0303"> <img src2="https://sslres.suning.com/public/v3/images/dianzi.png?v=02" alt="电子营业执照" /> </a> 
     </div> 
    </div> 
   </div> 
  </div> 
  <!-- 公用尾部 ]] --> 
  <!--问卷调查--> 
  <!--问卷调查--> 
  <div class="ECode-floatBar" style="position: fixed;_position:absolute; top: auto; left: auto; z-index: 7500; right: 0px; bottom: 0px; margin-bottom: 270px;"> 
   <div id="gSideTools" class="g-sidebar"> 
    <ul> 
     <li><a name="Logon_index_denglu020" target="_blank" href="javascript:;" class="i-side-survey"><em>问卷调查</em><i></i></a></li> 
    </ul> 
   </div> 
  </div> 
  <script type="text/javascript">
$(function(){
SFE.base.floatBar({contents : $("#snSideTools"),align :"right",vertical:"bottom",css:{"right":60,marginBottom:200}});//左悬浮
$(window).scroll(function(){
var topHide = $(document).scrollTop();
var gotop = $("#gotop");
if(topHide>20){
gotop.show();
}else{
gotop.hide();
}
});
});
</script> 
  <script type="text/javascript">
	var sa = sa || {};
	sa.bid = "106";
	//sa.bid = sa.bid || {};
	//sa.bid.event = "106";
	//sa.bid.function = "106";
</script> 
  <script type="text/javascript" src="https://imgssl.suning.com/javascript/??sn_da/sa-analytics.js,sn_da/sa-functions.js,sn_da/da_opt.js,sn_pf/agent_js/performance_agent.js?v=20150528"></script> 
  <script type="text/javascript">
/**
 * 更新记录：
 * 1.增加对采集元素包裹文字中包含的“|”进行处理（2014/1/21）
 */

/**
 * 第一步：在页面引入基础代码
 * 埋点前请检查页面是否已经埋入此代码，避免重复引入代码
 * 此部分代码不允许修改，若私自修改源码导致出现的问题，后果自负
 */
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('2 9;5(!9)9={};5(!9.A)9.A={};(4(){2 N=/^\\w*?.k.h$/,15=a.y.1r,K=(("1g:"==a.y.K)?"1g://":"1v://"),S=U(),7="|",R=j.16==j.1w?y.P:j.16.y.P,18=p(1f(R));4 E(f){2 6=f.6?p(f.6):"6 L",l=f.l?p(f.l):"l L",c=o 1s(),1m=(C(f,c),c)?p(c.1A("").O(/\\s|\\|/1E,"")):"1y L",g=(g=a.1l("1x"))?g.r:"",1o=l+7+6+7+1m,q=(q=a.1l("1u"))?q.r:"",17=K+S+"/1t.1z",F=V(),I="I";1h(I,F,\'/\',"","");2 1j=W("1D"),T=1C Y=="1B"?Y.12:"1F 1p 1q 12",1n=F+7+1j+7+1o+7+18,14=17+"?"+"1M="+1n+"&"+"20="+q+"&"+"g="+g+"&"+"22="+T;13(14)}4 V(){2 1e=o B(),m=10.1Y(21*10.1Z()),X=1e.D().1W().1X(m);d X}4 W(6){2 G=a.1a.Z("; ");1b(2 i=0;i<G.1k;i++){2 H=G[i].Z("=");5(H[0]==6)d 23(H[1])}}4 13(Q){2 n="28"+(o B()).D();2 i=j[n]=o 27();i.26=(i.24=4(){j[n]=x});i.1G=Q+"&25="+n;i=x}4 U(){5(N.1U(15)){d"A.k.1i/9"}z{d"1L.k.1i/9"}}4 19(){d a.e}4 1h(6,r,t,u,e){2 b=6+"="+1V(r);5(u!=""){2 v=o B();v.1K(v.D()+u);b+=";u="+v.1J()}5(t!=""){b+=";t="+t}2 J=19();5(J.M(".k.h")!=-1){b+=";e=.k.h"}z 5(J.M(".1c.h")!=-1){b+=";e=.1c.h"}z{b+=";e="+e}a.1a=b}4 1f(8){5(8.1k>1H){8=8.1I(0,1N)}1O(8.M(7)!=-1){8=8.O(7,"--")}d 8}4 C(n,c){5(n.1d==3){c.1T(n.1S)}z 5(n.1d==1){1b(2 m=n.1R;m!=x;m=m.1P){C(m,c)}}}4 p(s){d s!=x?1Q(s):""}2 11=9.A;11.E=E})();',62,133,'||var||function|if|name|_tag|urlOrTitle|sa|document|str|_strings|return|domain|data|_type|com||window|suning|id|||new|_encode|_errorCode|value||path|expires|date||null|location|else|click|Date|_getString|getTime|sendDatasIndex|oId|arrStr|temp|_snck|dm|protocol|undefined|indexOf|sn_prd_reg|replace|href|strURL|_toUrl|server|_cityId|getServer|getOnlyIdIndex|getCookieIndex|onlyId|sn|split|Math|_click|cityId|httpGifSendIndex|url|hostName|top|clickUrl|_shortToUrl|_getDomain|cookie|for|cnsuning|nodeType|now|_cutUrlToShort|https|_addCookie4Index|cn|pvId|length|getElementById|_text|cDatas|Datas|not|get|hostname|Array|ajaxClick|errorCode|http|self|resourceType|text|gif|join|object|typeof|_snmp|ig|can|src|301|substring|toGMTString|setTime|clicksit|_snmk|300|while|nextSibling|encodeURIComponent|firstChild|nodeValue|push|test|escape|toString|concat|round|random|_snme|100000|_cId|unescape|onerror|iId|onload|Image|log_'.split('|'),0,{}))

/**
 * 第二步：为元素绑定click事件
 * 技术支持：此方案需要jQuery支持，使用此方案前请确认使用的jquery版本对live方法的支持性
 * 功能：为点击对象添加点击事件处理函数
 * 示例解释：下面的示例中是为标签的name以test_dac_index_开头的元素埋点，实际生产中的name属性命名约束请联系贺婷芳(12061488)确认；未经确认不得埋点，否则引起冲突后果自负
 * 示例修改：在具体埋点过程中请开发人员根据具体的name修改a[name^=\*需要埋点的name*\]或者input[name^=\*需要埋点的name*\]
 * 命名技术规范：标签的name,id属性不能含有"|"
 */

 $(document).ready(function(){
	//登录页面发送数据到SA
	$("a[name*=Logon_index_],input[name*=Logon_index_]").live("click",function(){
		//sendDatasMember(this);
		sa.click.sendDatasIndex(this);
	});
});
</script> 
  <script type="text/javascript" src="https://fp.suning.com/bennu-collector/fp/porto.js"></script> 
  <script type="text/javascript"> 
porto.init({ 
	partnerCode:'none', 
	appName:'passport', 
	referenceId:'123', 
	sessionId:'123',
	serviceUrl:"https://fp.suning.com/bennu-collector/fp/porto.json" 
}); 
</script>  
 </body>
</html>